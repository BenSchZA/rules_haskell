$ ./worker-build-bin.sh
INFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.
Loading: 
Loading: 0 packages loaded
Analyzing: target //tests/binary-simple:binary-simple (1 packages loaded, 0 targets configured)
INFO: Analysed target //tests/binary-simple:binary-simple (36 packages loaded, 787 targets configured).
INFO: Found 1 target...
bazel: Entering directory `/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/execroot/io_tweag_rules_haskell/'
[0 / 2] [-----] BazelWorkspaceStatusAction stable-status.txt
INFO: From HaskellBuildBinary //tests/binary-simple:binary-simple:
All good.
INFO: From HaskellLinkBinary tests/binary-simple/binary-simple:
All good.
ERROR: /home/artem/Dev/rules_haskell/tests/binary-simple/BUILD.bazel:8:1: output 'tests/binary-simple/binary-simple' was not created
ERROR: /home/artem/Dev/rules_haskell/tests/binary-simple/BUILD.bazel:8:1: not all outputs were created or valid
bazel: Leaving directory `/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/execroot/io_tweag_rules_haskell/'
Target //tests/binary-simple:binary-simple failed to build
Use --verbose_failures to see the command lines of failed build steps.
INFO: Elapsed time: 1.667s, Critical Path: 0.47s
INFO: 9 processes: 7 linux-sandbox, 2 worker.
FAILED: Build did NOT complete successfully
FAILED: Build did NOT complete successfully


LOG OUTPUT:
Hello Worker!
Args taken: ["-pgma","/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/external/nixpkgs_cc_toolchain/bin/gcc","-pgmc","/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/external/nixpkgs_cc_toolchain/bin/gcc","-pgml","/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/external/nixpkgs_cc_toolchain/bin/gcc","-pgmP","/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/external/nixpkgs_cc_toolchain/bin/gcc","-optc-fno-stack-protector","-optP-E","-optP-undef","-optP-traditional","--persistent_worker"]
Server Starts
Server: Waiting for a message...
Server: got a message, decoding...
Server: msg received: {arguments: "-optl-fuse-ld=gold" arguments: "-optl-Wl,-no-as-needed" arguments: "-optl-Wl,-z,relro,-z,now" arguments: "-optl-B/home/artem/.cache/bazel/_bazel_artem/0eb966e0346e954b32e36c8a276e4ea7/external/nixpkgs_cc_toolchain/bin" arguments: "-optl-pass-exit-codes" arguments: "-optl-lstdc++" arguments: "-optl-lm" arguments: "-XStandaloneDeriving" arguments: "-threaded" arguments: "-DTESTS_TOOLCHAIN_COMPILER_FLAGS" arguments: "-XNoOverloadedStrings" arguments: "-optl-pthread" arguments: "-o" arguments: "bazel-out/k8-fastbuild/bin/tests/binary-simple/binary-simple" arguments: "-hide-all-packages" arguments: "-fno-version-macros" arguments: "-package-env" arguments: "bazel-out/k8-fastbuild/bin/tests/binary-simple/link-package_env-binary-simple" arguments: "-package-db" arguments: "bazel-out/k8-fastbuild/bin/tests/binary-simple/link-config-binary-simple" arguments: "-package" arguments: "link-config-binary-simple" arguments: "-optc-Wno-unused-command-line-argument" arguments: "-optl-Wno-unused-command-line-argument" inputs { path: "bazel-out/k8-fastbuild/bin/tests/binary-simple/link-config-binary-simple/package.cache" digest: "6a80338f584cfda8da9babe4f0d0450ddafa60d108e90b050d315d6327809121" } inputs { path: "bazel-out/k8-fastbuild/bin/tests/binary-simple/_obj/binary-simple/Main.o" digest: "08a92da15aa0d3e741a7b18ee533e9ef211e752468d5c192de0dac9d7a696e9c" } inputs { path: "bazel-out/k8-fastbuild/bin/tests/binary-simple/link-package_env-binary-simple" digest: "53c2caaa79d0c3da63a494f21121e8675893340e982ebeeddd9d79e3c6648f16" } inputs { path: "external/io_tweag_rules_haskell_ghc_nixpkgs_haskell_toolchain/lib/ghc-8.6.5/base-4.12.0.0/libHSbase-4.12.0.0.a" digest: "2c91f5ad3d20114c752cbc092cf3b21539db7be1eca0199ddaecec06d8f3aa4f" } inputs { path: "external/io_tweag_rules_haskell_ghc_nixpkgs_haskell_toolchain/lib/ghc-8.6.5/integer-gmp-1.0.2.0/libHSinteger-gmp-1.0.2.0.a" digest: "939ef92024da46fd6b68b9c44b0335df22ffda21ab9b53b262ff0decc777667d" } inputs { path: "external/io_tweag_rules_haskell_ghc_nixpkgs_haskell_toolchain/lib/ghc-8.6.5/ghc-prim-0.5.3/libHSghc-prim-0.5.3.a" digest: "a9399bbf1d4558babfaa097028a774e4739fb7bf327a32b884156487424963a3" } inputs { path: "external/io_tweag_rules_haskell_ghc_nixpkgs_haskell_toolchain/lib/ghc-8.6.5/rts/libHSrts.a" digest: "17568c671c2d40f834e06e928db9eb0bf866c2f1b3accfad80657c29e4921442" } inputs { path: "external/io_tweag_rules_haskell_ghc_nixpkgs/bin/ghc" digest: "369943d8548ef430cc29c6ec3386feabbfb1e0f1407c3b8187880650a06bc7be" } inputs { path: "bazel-out/host/bin/external/io_tweag_rules_haskell_ghc_nixpkgs_haskell_toolchain/ghc-version" digest: "9f99b1ed6a7d5cc206f895cb034aa9d93e15845e9fc876f90e155b8097bb5401" } inputs { path: "bazel-out/k8-fastbuild/bin/tests/binary-simple/compile_flags_binary-simple_HaskellLinkBinary" digest: "ec8c21fed14b07cdf70cee571ec374c77078ec554d1ce1e0f4c5a8bdd62e7590" } inputs { path: "bazel-out/k8-fastbuild/bin/tests/binary-simple/_obj/binary-simple.static.manifest" digest: "c72adb0a99fcf4ccda7638d7c79c5fac06d4c8df02f95d8e4d8ffbc790c57d1b" } inputs { path: "external/io_tweag_rules_haskell/haskell/private/worker.sh" digest: "b246b115775dd18ab6ad639ef8b722e714775eaf3d0d900dfbef1622abb0af3f" } inputs { path: "bazel-out/host/bin/external/io_tweag_rules_haskell/haskell/worker" digest: "b246b115775dd18ab6ad639ef8b722e714775eaf3d0d900dfbef1622abb0af3f" }}
Loaded package environment from bazel-out/k8-fastbuild/bin/tests/binary-simple/link-package_env-binary-simple
Using binary package database: /nix/store/9c7ma9kqd9n68j7wrx6q35zs84szvn3d-ghc-8.6.5/lib/ghc-8.6.5/package.conf.d/package.cache
Using binary package database: bazel-out/k8-fastbuild/bin/tests/binary-simple/link-config-binary-simple/package.cache
package flags [-package link-config-binary-simple{package link-config-binary-simple True ([])},
               -package-id base-4.12.0.0{unit base-4.12.0.0 True ([])}]
loading package database /nix/store/9c7ma9kqd9n68j7wrx6q35zs84szvn3d-ghc-8.6.5/lib/ghc-8.6.5/package.conf.d
loading package database bazel-out/k8-fastbuild/bin/tests/binary-simple/link-config-binary-simple
wired-in package ghc-prim mapped to ghc-prim-0.5.3
wired-in package integer-gmp mapped to integer-gmp-1.0.2.0
wired-in package base mapped to base-4.12.0.0
wired-in package rts mapped to rts
wired-in package template-haskell mapped to template-haskell-2.14.0.0
wired-in package ghc mapped to ghc-8.6.5
*** Chasing dependencies:
Chasing modules from: 
!!! Chasing dependencies: finished in 0.02 milliseconds, allocated 0.010 megabytes
Stable obj: []
Stable BCO: []
Ready for upsweep []
Upsweep completely successful.
*** Deleting temp files:
Deleting: 
link(batch): upsweep (partially) failed OR
   Main.main not exported; not linking.

<no location info>: error:
    output was redirected with -o, but no output will be generated
because there is no Main module.
*** Deleting temp files:
Deleting: 
*** Deleting temp dirs:
Deleting: 
Server sent response...
Server: Waiting for a message...
